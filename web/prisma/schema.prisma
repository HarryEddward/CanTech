generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql" // Change to "sqlite" if using SQLite
}


model Client {
  id               String   @id @default(cuid())
  email            String?
  phone            String?
  stripeCustomerId String
  discount         Int      @default(10)
  used             Boolean  @default(false)
  createdAt        DateTime @default(now())

  // ðŸ‘‰ Un cliente puede tener muchos pedidos
  orders           Order[]
}

model Order {
  id              String   @id @default(cuid())
  stripePaymentId String   @unique
  amount          Int
  createdAt       DateTime @default(now())

  // RelaciÃ³n con producto
  productId       String
  product         Product  @relation(fields: [productId], references: [id])

  // ðŸ‘‰ Un pedido pertenece a un cliente
  clientId        String
  client          Client   @relation(fields: [clientId], references: [id])
}

model Product {
  id          String   @id @default(cuid())
  name        String
  description String
  price       Int
  image       String
  stock       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // ðŸ‘‰ Un producto puede estar en muchos pedidos
  orders      Order[]
}
