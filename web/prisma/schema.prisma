generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql" // Change to "sqlite" if using SQLite
}

enum OrderStatus {
  PENDING
  DELIVERED
  CANCELLED
}


model Client {
  id               String   @id @default(cuid())
  email            String?
  phone            String?
  stripeCustomerId String
  discount         Int      @default(10)
  used             Boolean  @default(false)
  createdAt        DateTime @default(now())

  // ðŸ‘‰ Un cliente puede tener muchos pedidos
  orders           Order[]
}

model Order {
  id              String   @id @default(cuid())
  stripePaymentId String   @unique
  amount          Int
  createdAt       DateTime @default(now())
  status          OrderStatus  @default(PENDING)

  // RelaciÃ³n con producto
  productId       String
  product         Product  @relation(fields: [productId], references: [id])

  // ðŸ‘‰ Un pedido pertenece a un cliente
  clientId        String
  client          Client   @relation(fields: [clientId], references: [id])
}

model Product {
  id            String   @id @default(cuid())
  name          String
  description   String
  price         Int
  image         String
  // Cambia 'characteristics' a JSON
  characteristics Json // Almacena un array de objetos como [{"title": "Color", "description": "Rojo"}]
  stock         Int      @default(0)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  // ðŸ‘‰ Un producto puede estar en muchos pedidos
  orders        Order[]
}

/*
[
  "+34h de baterÃ­a",
  "IPX4",
  "Control por tacto",
  "Emparejamiento Dual",
  "USB Tipo C",
  "Bluethooth 5.4"
]

LG xBoom, lg_xboom.webp
JBL Live Flex, jbl_live_flex.webp
Vieta Pro Zen, vieta_pro_zen.webp

Auricualres inalambricos con cancelaciÃ³n de ruido y resistente al agua

*/